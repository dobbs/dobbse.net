--- 
layout: post
title: State Machines and Business Process and Workflow
date: 2004-10-03T23:23:45
---
<div class="article">
<h1><a href="http://dobbse.net/thinair/2004/10/business-process.html">State Machines and Business Process and Workflow</a></h1>
<div class="time 2004-10-03T23:23:45 pubdate meta">Sunday 03 October 2004 at 23:23 </div>
<p><a href="http://dobbse.net/thinair/2003/09/000140.html">State Machines</a> part twelve</p>

<p>Two interesting business process workflow articles to add to the discussion.  First from last May which I&#39;ve only now gotten round to posting, and second from last week.</p>

<p>If you&#39;re interested enough to have stuck with this long series of posts about state machines and workflow, you would probably also enjoy <a href="http://www.theserverside.com/articles/content/Workflow/article.html">a good survey of business workflow by Tom Baeyens on TheServerSide</a>.</p>

<blockquote><p>A topic that certainly deserves to be included in an introduction about workflow is the relation between workflow and business process management (BPM). The term workflow is used to denote a series of related interactions between people and a computer system. Workflow is more often heard in developer communities. Sometimes, the meaning of workflow is restricted to the different screens of a user interface. Business process management (BPM) has a broader scope. Where workflow is more often used in a technical context, <span class="caps">BPM</span> has a broader scope. It implies also the non-technical issues like analysis, organizational impact, from the viewpoint of a manager.<br />
 <br />
First I start with explaining what workflow management systems are. Then, the advantages of business process management are covered. Next is an explanation of why the workflow market looks confusing at first sight. The main conclusion will be that selecting a workflow management system is the hardest task companies have to face. To give you a solid basis for this task, the core section of this article defines the four layers of a process definition. It describes the common workflow &amp; <span class="caps">BPM</span> concepts in a neutral language. At the end, a guided tour along the specs and tools is added.</p></blockquote>

<p>It provides a fairly thorough introduction to business process workflow and provides plenty of links for further reading and various commercial and open source workflow engines.</p>

<p>Last week <a href="http://www.itworld.com/Man/2672/nls_ebizprocess040928/index.html">Sean McGrath published an article in IT World about visualizing business processes -- some problems map well to workflow and some don&#39;t</a>.  It&#39;s really a gem to add to my workflow collection, but the <span class="caps">URL</span> looks a little dodgy.  So I&#39;ll paraphrase some and quote the juicy bits to protect from potential link rot.</p>

<p>Sean uses a soda vending machine for his example.  There are two business problems.  First, there&#39;s the actual mechanics of the soda machine -- insert a coin, choose a product, and dispence the product.  It maps quite well to a state machine.  It&#39;s only slightly more complex than <a href="http://dobbse.net/thinair/2004/08/state-machine-example.html">Bob Martin&#39;s example of a turnstyle</a>.  The second business problem is capturing the logic involved in picking the optimal container size for bulk orders.</p>

<blockquote><p>The second use case smacks of math, ... of an algorithm, of control logic, of decision trees, of flowcharts. To illustrate, imagine that the process of determining the optimal container size required looking for the biggest number that divides two order sizes evenly. The algorithm for this was worked out by Euclid</p><pre>Compute highest common factor of A and B
Let R = A modulus B
repeat:
                If R is zero, stop
                Set A to the value of B.
                Set B to the value of R.
The answer is B.</pre><p>Now. How do we visually represent this to our business analyst? How do we give her intuitive, visual tools for crafting this sort of logic?<br />
 <br />
Beats me! I have seen lots of attempts, ranging from flow charts to decision trees and none of them seem to me to get close to a general purpose abstraction for the problem.<br />
 <br />
That in itself is worrying but is only part of the concern. The main problem is more subtle. Simply put, the state machine of the first use case maps so sweetly onto the problem that it acts as its own documentation. Any analyst or programmer could pick up the state machine and immediately think &quot;Ok. I get it. It is states with transitions between states.&quot; In some sense, state machines - for problems that naturally map to them - encapsulate both the &#39;why&#39; and the &#39;how&#39; of a solution. From a total cost of ownership perspective, this is a wonderful thing.<br />
 <br />
The second use case however, brought us immediately knee deep into a thicket of math and boolean logic and loops and if/then/else shenanigans. We can concoct a visualisation of this that represents the &#39;how&#39; of the calculation. Have we gained anything by doing so? I have my doubts. But the real problem is that no amount of visualisation of this sort of logic gets us any closer to capturing the &#39;why&#39; as well as the how.</blockquote></p>

<p>Two things I especially like about this article.  First, I love the observation that for appropriate problems state machines have a powerful self-documenting quality to them.  That succinctly explains why I&#39;m so enamoured with <a href="http://dobbse.net/thinair/2003/10/000145.html">the state transition table to which the Bob Martin introduced me</a>.  Second, it&#39;s really important to know that there are in fact some limits to the usefulness of state machines, especially if you&#39;re going to write eleven or twelve articles about them. ;-)</p>

</div>
