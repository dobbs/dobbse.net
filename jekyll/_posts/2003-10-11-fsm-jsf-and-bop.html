--- 
layout: default
charset: UTF-8
fulltitle: State Machines, JavaServer Faces, bOP, and Rethinking the V in MVC
posted: 2003-10-11T10:41:24
---
<div class="article">
<h1><a href="http://dobbse.net/thinair/2003/10/fsm-jsf-and-bop.html">State Machines, JavaServer Faces, bOP, and Rethinking the V in MVC</a></h1>
<div class="time 2003-10-11T10:41:24 pubdate meta">Saturday 11 October 2003 at 10:41 </div>
<p><a href="http://dobbse.net/thinair/2003/09/000140.html">State machines</a> part six</p>

<p><a href="http://www.denverjug.org/events/oct2003.html">David Geary presented an overview of JavaServer Faces at DJUG</a> on Wednesday.  I have to agree with his assessment that JavaServer Faces will be The Next Big Thing in java web app development.  Interestingly, it looks like <span class="caps">JSF</span> will be notably similar to bOP.</p>

<p><span class="caps">JSF</span> will be Java&#39;s answer to .NET and especially VisualStudio.  Some of the big players in the Java world are going to put a lot of marketing muscle behind it.  David mentioned that his book is going to be competing with a stunning number of <span class="caps">JSF</span> offerings.  Many vendors want to sell you their <span class="caps">ID</span>Es.  It seems the diversity in java&#39;s web framework ecosystem deters them from making web app magic happen in their tools.  &quot;Which framework should we support?&quot; they ask.  By blessing one framework the <span class="caps">IDE</span> vendors can focus their development resources on &quot;The Standard&quot;.  Just as the 1.4 logging <span class="caps">AP</span>Is threaten to replace log4j, so will <span class="caps">JSF</span> threaten <a href="http://jakarta.apache.org/struts/">Struts</a>, and all the rest of the java frameworks for that matter.  Brace yourself for a tsunami of <span class="caps">JSF</span> hype.</p>

<p>In spite of the coming marketing storm, David showed off some good stuff.  I welcome one change in particular.  They borrow heavily from Struts, but have separated the concerns of site navigation from actions which change the state of the Model.  Whereas, both of these things are handled with Action configurations in Struts, in <span class="caps">JSF</span> they are separated.  In fact, the navigation configuration is yet another state transition table which will <em>declare</em> the flow through the application.  The Actions get to focus just on changes in the state of the Model.  This is one thing that I have missed from Turbine -- the navigation is separate from the actions which effect the model.  That exact separation of concerns is also present in bOP.</p>

<p>David mentioned that there are places to declare the connection between a form and an object in the model.  If he actually showed us that detail, I missed it.  But he did mention repeatedly that <span class="caps">JSF</span> uses much more declarative programming.  <a href="http://www.bivio.biz/hm/csci7818-bop-intro/what-is-bop">bivio brags about being declarative too</a>.</p>

<p>What about the View?</p>

<p><span class="caps">JSF</span> adds several stages in the life-cycle of a request.  Some of those stages are specifically added  to allow page widgets to trigger events.  It allows you to &quot;attach&quot; server-side event listeners to those page widgets.  They&#39;ve done some pretty clever things to simulate a Swing-like event model while staying within the limits of <span class="caps">HTTP.  I</span>&#39;m sad to report that <span class="caps">JSP</span> still plays a central role.  Taglibs provide some of the important hooks that help maintain the Swing-like look in the code.   It looks like it will be hard to use other templating options with <span class="caps">JSF </span>-- the functionality provided by tag libraries for <span class="caps">JSP</span> would have to be replicated in <a href="http://jakarta.apache.org/velocity/">Velocity</a> or similar tools.</p>

<p>I&#39;m not sure what to make of the move to Swingishness.  See, I&#39;ve drunk deeply from the templating kool-aid.  I prefer <a href="http://jakarta.apache.org/velocity/">Velocity</a> to <span class="caps">JSP</span> for various reasons I won&#39;t go into here.  When <a href="http://dobbse.net/thinair/2003/09/000138.html">I wrote a little controller in perl for New Millennium</a>, one of the key ingredients was <span class="caps">HTML</span>::Template -- it&#39;s not as cool as Velocity, but it let me separate the <span class="caps">HTML</span> from the controller.</p>

<p>Rob observes that templates make the same mistakes that old green screens did: mixing display codes with business logic and data.  At first blush that sounds like <span class="caps">JSP</span> scriptlets.  But I think Rob&#39;s assertion was more sweeping.  Whether you&#39;re writing servlets with println()s or <span class="caps">JS</span>Ps with scriptlets or concealing the scriptlets with tag libraries, there&#39;s a mixing &quot;screen control characters&quot; with logic and data.  Velocity macros don&#39;t change that mix.</p>

<p><a href="http://www.bivio.biz/vs/site_root/hm/index">In bOP they use a Tk like language</a> for defining the web pages.  To the extent that Tk and Swing are similar, so is bOP&#39;s view language similar to <span class="caps">JSF</span>&#39;s stuff.  Looking at David&#39;s examples for <span class="caps">JSF</span> helped me get my head around bOPs stuff a little more. bOP views assemble <span class="caps">UI</span> widgets into a hierarchy.  I presume that <a href="http://www.bivio.biz/hm/csci7818-bop-intro/why-is-bop-cool">bOP&#39;s facades</a> are basically implementations of the language which render those widgets into <span class="caps">HTML.  I</span>&#39;m making educated guesses about what&#39;s going on behind the scenes.  But I&#39;m fascinated by the parallel development going on in <span class="caps">JSF.</span></p>

<p>My feelings are still mixed.  Rob&#39;s point about green screens is persuasive.  But I&#39;m just not quite ready to give up templating.  Interestingly, bOP and <span class="caps">JSF</span> both seem to bring the web user interface back under the auspices of software development, perhaps taking it back from web designers.  Maybe that&#39;s appropriate for web <em>applications</em>.  It also seems like a natural progression for web apps.  The <span class="caps">GUI</span> developers have worked through a lot of <span class="caps">UI</span> and usability issues in the past twenty years.  Their toolkits look like Swing and Tk.</p>

</div>
